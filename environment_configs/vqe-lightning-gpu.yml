name: vqe-lightning-gpu
channels:
  - conda-forge
  - nvidia
  - defaults
dependencies:
  # --- 1. System Foundation ---
  - python=3.12
  - pip
  
  # --- 2. CUDA Support (from nvidia channel) ---
  # CUDA 12.x for compatibility with pennylane-lightning-gpu
  - cuda-toolkit=12.2
  - cudnn
  
  # --- 3. Scientific Computing ---
  - numpy
  - scipy
  - matplotlib
  
  # --- 4. Application Stack via Pip ---
  - pip:
      # Quantum computing framework
      - pennylane>=0.43
      - pennylane-lightning>=0.43
      - pennylane-lightning-gpu>=0.43
      
      # JAX (CPU version - lightning.gpu handles GPU acceleration)
      # We use CPU JAX to avoid Catalyst conflicts
      - jax
      - jaxlib
      
      # Optimization
      - optax

# =============================================================================
# NOTES:
# =============================================================================
# This environment is specifically for GPU benchmarking with lightning.gpu
# 
# Key differences from vqe-gpu environment:
# - NO pennylane-catalyst (conflicts with newer JAX/CUDA)
# - Uses pennylane-lightning-gpu for GPU acceleration
# - CUDA 12.x instead of 11.x
#
# The GPU acceleration comes from lightning.gpu device, NOT from JAX CUDA
# This is a different acceleration path than JIT compilation
#
# Usage:
#   conda env create -f vqe-lightning-gpu.yml
#   conda activate vqe-lightning-gpu
#
# To run GPU benchmark:
#   qsub pbs_scripts/run_gpu_lightning.sh
#
# The vqe_gpu.py script will use:
#   dev = qml.device("lightning.gpu", wires=QUBITS)
# =============================================================================
